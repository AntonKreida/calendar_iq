(()=>{"use strict";window.onload=function(){const e=document.querySelector(".js-form-header-icon"),t=document.querySelector(".js-from-input");e.addEventListener("click",(e=>{t.focus()})),document.querySelector(".js-btn-reload").addEventListener("click",(e=>{window.location.reload()}));const n=document.querySelector(".js-popup"),c=document.querySelector(".js-btn-push");c.addEventListener("click",(e=>{c.classList.add("btn--active"),n.classList.add("popup--active")})),document.querySelector(".js-popup-icon").addEventListener("click",(e=>{c.classList.remove("btn--active"),n.classList.remove("popup--active")})),document.querySelector(".js-btn-create").addEventListener("click",(e=>{c.classList.remove("btn--active"),n.classList.remove("popup--active")}));const o=new Date,s=o.getMonth(),a=o.getFullYear(),r=()=>{o.setDate(s);const e=new Date(o.getFullYear(),o.getMonth()+1,0).getDate(),t=new Date(o.getFullYear(),o.getMonth(),0).getDay(),n=7-new Date(o.getFullYear(),o.getMonth()+1,0).getDay(),c=new Date(o.getFullYear(),o.getMonth(),0).getDate(),a=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота ","Воскресенье"],r=document.querySelector(".js-data-month"),d=document.querySelector(".js-data-year"),l=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"][o.getMonth()];r.textContent=l,d.textContent=o.getFullYear();const i=document.querySelector(".calendar__days");let v="";for(let e=t;e>0;e--)v+=`<div class="day day--prev js-day"><h4 class="day__head">${c-e+1}</h4><div class="day-title"><h4><div class="day-text"><p></div></div><div class="event"></div></div>`;for(let t=1;t<=e;t++)v+=`<div class="day day--cur js-day"><h4 class="day__head">${t}</h4><div class="day__title"><h4></div><div class="day__text"><p></div><div class="event"></div></div>`;for(let e=1;e<=n;e++)v+=`<div class="day day--next js-day"><h4 class="day__head">${e}</h4><div class="day-title"><h4><div class="day-text"><p></div></div><div class="event"></div></div>`,i.innerHTML=v;document.querySelectorAll(".day__head").forEach(((e,t)=>{t<7&&e.prepend(document.createTextNode(`${a[t]}, `))}))};document.querySelector(".js-btn-control-prev").addEventListener("click",(e=>{o.setMonth(o.getMonth()-1),r(),d()}));const d=()=>{document.querySelectorAll(".js-day").forEach((e=>{e.addEventListener("click",(()=>{e.classList.add("day--active"),document.querySelectorAll(".event").forEach((e=>{e.classList.contains("event--active")&&e.classList.remove("event--active")}));const t=e.querySelector(".event");t.classList.add("event--active");const n=['<img class="icon--cross icon--cross--form js-icon-event" src="./img/icon_cross.svg" alt="">','<form class="event__form form" action="/" method="post">\n          <input class="form__input event__input" type="text" placeholder="Событие..." name="event">\n          <input class="form__input event__input" type="text" placeholder="День, месяц, год..." name="Date">\n          <input class="form__input event__input" type="text" placeholder ="Имена участников..." name="nameMembers">\n          <textarea class="form__textarea" placeholder="Описание..." name="text"></textarea>\n          <div class="form-control">\n          <button class="btn-control btn-control--form js-btn-event-form" type="button">Готово</button>\n          <button class="btn-control btn-control--form" type="reset">Удалить</button>\n          </div>\n          </form>'].reduce(((e,t)=>e+t),"");t.innerHTML=n;const c=document.querySelectorAll(".js-btn-event-form"),o=()=>{t.classList.remove("event--active"),e.classList.remove("day--active")};c.forEach((e=>{e.addEventListener("click",o)}));const s=document.querySelectorAll(".js-icon-event"),a=()=>{t.classList.remove("event--active"),e.classList.remove("day--active")};s.forEach((e=>{e.addEventListener("click",a)})),t.addEventListener("click",(function(e){e.stopPropagation()}))}))}))};document.querySelector(".js-btn-control-todye").addEventListener("click",(e=>{o.setMonth(s),o.setFullYear(a),r(),d()})),document.querySelector(".js-btn-control-next").addEventListener("click",(e=>{o.setMonth(o.getMonth()+1),r(),d()})),r(),d()}})();